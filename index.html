<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>PetShop — Интернет-магазин для домашних животных | PetShop</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Montserrat', sans-serif;
    }
    body {
      background-color: #f5f7fa;
      color: #2d2d2d;
      line-height: 1.7;
    }
    header {
      background-color: #ffffff;
      padding: 20px 50px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      position: sticky;
      top: 0;
      z-index: 100;
    }
    .logo {
      display: flex;
      align-items: center;
      gap: 12px;
    }
    .logo img {
      height: 55px;
      transition: transform 0.3s ease;
    }
    .logo img:hover {
      transform: scale(1.1);
    }
    .logo h1 {
      color: #2e7d32;
      font-size: 26px;
      font-weight: 700;
    }
    nav a {
      margin-left: 25px;
      color: #2e7d32;
      text-decoration: none;
      font-weight: 600;
      transition: color 0.3s ease, transform 0.2s ease;
    }
    nav a:hover {
      color: #1b5e20;
      transform: translateY(-2px);
    }
    .hero {
      background: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url('header.gif') center/cover no-repeat;
      height: 65vh;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      text-shadow: 1px 1px 5px rgba(0,0,0,0.8);
      text-align: center;
      padding: 0 30px;
    }
    .hero-content {
      max-width: 900px;
      animation: fadeIn 1s ease-in;
    }
    .hero h2 {
      font-size: 42px;
      margin-bottom: 25px;
      font-weight: 700;
    }
    .hero p {
      font-size: 20px;
      margin-bottom: 35px;
    }
    .btn {
      display: inline-block;
      padding: 14px 28px;
      background-color: #2e7d32;
      color: white;
      text-decoration: none;
      border-radius: 10px;
      font-weight: 600;
      transition: background-color 0.3s ease, transform 0.2s ease;
    }
    .btn:hover {
      background-color: #1b5e20;
      transform: translateY(-3px);
    }
    .search-filter {
      padding: 25px 50px;
      background-color: #fff;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      display: flex;
      flex-wrap: wrap;
      gap: 25px;
      align-items: center;
    }
    .search-box {
      flex: 1;
      min-width: 280px;
      position: relative;
    }
    .search-box input {
      width: 100%;
      padding: 14px 20px 14px 45px;
      border: 1px solid #e0e0e0;
      border-radius: 10px;
      font-size: 16px;
      transition: border-color 0.3s ease;
    }
    .search-box input:focus {
      border-color: #2e7d32;
      outline: none;
    }
    .search-box i {
      position: absolute;
      left: 15px;
      top: 16px;
      color: #888;
    }
    .filter {
      display: flex;
      gap: 20px;
      flex-wrap: wrap;
    }
    .filter select {
      padding: 14px 20px;
      border: 1px solid #e0e0e0;
      border-radius: 10px;
      font-size: 16px;
      background-color: white;
      cursor: pointer;
      transition: border-color 0.3s ease;
    }
    .filter select:focus {
      border-color: #2e7d32;
      outline: none;
    }
    .products {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 30px;
      padding: 50px;
      position: relative;
    }
    .product {
      background-color: #fff;
      border-radius: 15px;
      overflow: hidden;
      box-shadow: 0 6px 20px rgba(0,0,0,0.1);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      position: relative;
      display: flex;
      flex-direction: column;
    }
    .product:hover {
      transform: translateY(-8px);
      box-shadow: 0 12px 24px rgba(0,0,0,0.2);
    }
    .product-badge {
      position: absolute;
      top: 15px;
      right: 15px;
      background-color: #e91e63;
      color: white;
      padding: 6px 12px;
      border-radius: 6px;
      font-size: 13px;
      font-weight: 600;
    }
    .product-img {
      display: block;
      margin: 0 auto;
      width: 60%;
      height: 180px;
      object-fit: cover;
      border-bottom: 1px solid #f0f0f0;
      transition: transform 0.3s ease;
    }
    .product-img:hover {
      transform: scale(1.05);
    }
    .product-info {
      padding: 25px;
      flex-grow: 1;
      display: flex;
      flex-direction: column;
    }
    .product-info h3 {
      font-size: 19px;
      margin-bottom: 12px;
      color: #2d2d2d;
      font-weight: 600;
    }
    .product-info p {
      font-size: 14px;
      color: #666;
      margin-bottom: 12px;
      min-height: 48px;
      line-height: 1.5;
    }
    .product-info .price {
      font-weight: bold;
      color: #2e7d32;
      font-size: 19px;
      margin-bottom: 20px;
      display: block;
    }
    .product-buttons {
      display: flex;
      flex-direction: row;
      gap: 12px;
      margin-top: auto;
      align-items: center;
    }
    .product button {
      flex: 1;
      padding: 14px;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      font-weight: 600;
      transition: background-color 0.3s ease, transform 0.2s ease;
    }
    .add-to-cart-btn {
      background-color: #2e7d32;
      color: white;
    }
    .add-to-cart-btn:hover {
      background-color: #1b5e20;
      transform: translateY(-2px);
    }
    .quick-view-btn {
      background-color: #f5f7fa;
      color: #2e7d32;
      border: 1px solid #e0e0e0;
    }
    .quick-view-btn:hover {
      background-color: #e8ecef;
      transform: translateY(-2px);
    }
    .favorite-btn {
      background: none;
      border: none;
      font-size: 20px;
      color: #ccc;
      cursor: pointer;
      transition: color 0.3s ease;
    }
    .favorite-btn.favorited {
      color: #e91e63;
    }
    .favorite-btn:hover {
      color: #e91e63;
    }
    .cart {
      position: fixed;
      top: 90px;
      right: 30px;
      background: #ffffff;
      border: 1px solid #e0e0e0;
      border-radius: 15px;
      box-shadow: 0 6px 24px rgba(0,0,0,0.2);
      padding: 25px;
      width: 380px;
      max-height: 80vh;
      overflow-y: auto;
      display: none;
      z-index: 99;
    }
    .cart h3 {
      margin-bottom: 20px;
      color: #2e7d32;
      font-size: 22px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .cart h3 i {
      cursor: pointer;
      transition: color 0.3s ease;
    }
    .cart h3 i:hover {
      color: #e91e63;
    }
    .cart-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 12px 0;
      border-bottom: 1px solid #f0f0f0;
    }
    .cart-item-info {
      flex: 1;
    }
    .cart-item-name {
      font-weight: 600;
      font-size: 15px;
    }
    .cart-item-price {
      color: #2e7d32;
      font-weight: 600;
      font-size: 14px;
    }
    .cart-item-quantity {
      display: flex;
      align-items: center;
      gap: 12px;
    }
    .cart-item-quantity button {
      width: 32px;
      height: 32px;
      background-color: #f5f7fa;
      border: 1px solid #e0e0e0;
      border-radius: 6px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }
    .cart-item-quantity button:hover {
      background-color: #e8ecef;
    }
    .cart-item-remove {
      color: #e91e63;
      background: none;
      border: none;
      cursor: pointer;
      font-size: 16px;
      margin-left: 12px;
      transition: color 0.3s ease;
    }
    .cart-item-remove:hover {
      color: #d81b60;
    }
    .cart-total {
      margin-top: 20px;
      font-weight: bold;
      font-size: 19px;
      display: flex;
      justify-content: space-between;
    }
    .cart-actions {
      margin-top: 25px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }
    .cart-btn {
      padding: 14px;
      border-radius: 10px;
      font-weight: 600;
      cursor: pointer;
      transition: background-color 0.3s ease, transform 0.2s ease;
    }
    .checkout-btn {
      background-color: #2e7d32;
      color: white;
      border: none;
    }
    .checkout-btn:hover {
      background-color: #1b5e20;
      transform: translateY(-2px);
    }
    .clear-btn {
      background-color: #f5f7fa;
      color: #e91e63;
      border: 1px solid #e0e0e0;
    }
    .clear-btn:hover {
      background-color: #e8ecef;
      transform: translateY(-2px);
    }
    .empty-cart {
      text-align: center;
      padding: 25px;
      color: #666;
      font-size: 16px;
    }
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.6);
      z-index: 100;
      justify-content: center;
      align-items: center;
      animation: fadeIn 0.3s ease;
    }
    .modal-content {
      background-color: white;
      padding: 35px;
      border-radius: 15px;
      width: 90%;
      max-width: 550px;
      max-height: 90vh;
      overflow-y: auto;
      box-shadow: 0 8px 30px rgba(0,0,0,0.25);
      animation: slideUp 0.3s ease;
    }
    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 25px;
    }
    .modal-header h3 {
      color: #2e7d32;
      font-size: 24px;
      font-weight: 600;
    }
    .close-modal {
      background: none;
      border: none;
      font-size: 26px;
      cursor: pointer;
      color: #666;
      transition: color 0.3s ease;
    }
    .close-modal:hover {
      color: #e91e63;
    }
    .form-group {
      margin-bottom: 25px;
    }
    .form-group label {
      display: block;
      margin-bottom: 10px;
      font-weight: 600;
      color: #444;
    }
    .form-group input,
    .form-group textarea,
    .form-group select {
      width: 100%;
      padding: 14px;
      border: 1px solid #e0e0e0;
      border-radius: 10px;
      font-size: 16px;
      transition: border-color 0.3s ease;
    }
    .form-group input:focus,
    .form-group textarea:focus,
    .form-group select:focus {
      border-color: #2e7d32;
      outline: none;
    }
    .form-group input:invalid,
    .form-group textarea:invalid,
    .form-group select:invalid {
      border-color: #e91e63;
    }
    .form-group textarea {
      min-height: 120px;
      resize: vertical;
    }
    .submit-btn {
      width: 100%;
      padding: 16px;
      background-color: #2e7d32;
      color: white;
      border: none;
      border-radius: 10px;
      font-weight: 600;
      font-size: 16px;
      cursor: pointer;
      transition: background-color 0.3s ease, transform 0.2s ease;
    }
    .submit-btn:hover {
      background-color: #1b5e20;
      transform: translateY(-2px);
    }
    .notification {
      position: fixed;
      top: 30px;
      right: 30px;
      background-color: #2e7d32;
      color: white;
      padding: 16px 24px;
      border-radius: 10px;
      box-shadow: 0 6px 16px rgba(0,0,0,0.25);
      z-index: 200;
      display: flex;
      align-items: center;
      gap: 12px;
      animation: slideIn 0.3s ease-out;
    }
    .notification .close-notification {
      background: none;
      border: none;
      color: white;
      cursor: pointer;
      font-size: 16px;
      transition: color 0.3s ease;
    }
    .notification .close-notification:hover {
      color: #e8ecef;
    }
    @keyframes slideIn {
      from { transform: translateX(100%); }
      to { transform: translateX(0); }
    }
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    @keyframes slideUp {
      from { transform: translateY(50px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }
    .loading-spinner {
      display: none;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      border: 5px solid #f5f7fa;
      border-top: 5px solid #2e7d32;
      border-radius: 50%;
      width: 50px;
      height: 50px;
      animation: spin 1s linear infinite;
    }
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    .quick-view-img {
      width: 100%;
      height: 220px;
      object-fit: cover;
      border-radius: 10px;
      margin-bottom: 20px;
    }
    .quick-view-info p {
      margin-bottom: 12px;
      color: #666;
      line-height: 1.6;
    }
    .quick-view-info .price {
      color: #2e7d32;
      font-weight: bold;
      font-size: 19px;
    }
    .quick-view-actions {
      display: flex;
      gap: 12px;
      margin-top: 20px;
    }
    .quick-view-actions button {
      flex: 1;
      padding: 14px;
      border-radius: 10px;
      font-weight: 600;
      cursor: pointer;
      transition: background-color 0.3s ease, transform 0.2s ease;
    }
    .favorites-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 12px 0;
      border-bottom: 1px solid #f0f0f0;
    }
    .favorites-item-info {
      flex: 1;
    }
    .favorites-item-name {
      font-weight: 600;
      font-size: 15px;
    }
    .favorites-item-price {
      color: #2e7d32;
      font-weight: 600;
      font-size: 14px;
    }
    .favorites-item-actions {
      display: flex;
      gap: 10px;
    }
    .favorites-item-actions button {
      padding: 8px 12px;
      border-radius: 6px;
      font-weight: 600;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }
    .favorites-item-actions .add-to-cart {
      background-color: #2e7d32;
      color: white;
      border: none;
    }
    .favorites-item-actions .add-to-cart:hover {
      background-color: #1b5e20;
    }
    .favorites-item-actions .remove-favorite {
      background: none;
      color: #e91e63;
      border: none;
      font-size: 16px;
    }
    .favorites-item-actions .remove-favorite:hover {
      color: #d81b60;
    }
    .empty-favorites {
      text-align: center;
      padding: 25px;
      color: #666;
      font-size: 16px;
    }
    .contact {
      background-color: #fff;
      padding: 80px 50px;
      text-align: center;
    }
    .section-title {
      color: #2e7d32;
      margin-bottom: 40px;
      font-size: 32px;
      font-weight: 700;
    }
    .contact-info {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 35px;
      margin-bottom: 50px;
      text-align: left;
    }
    .contact-card {
      background-color: #f5f7fa;
      padding: 30px;
      border-radius: 15px;
      box-shadow: 0 6px 20px rgba(0,0,0,0.08);
      transition: transform 0.3s ease;
    }
    .contact-card:hover {
      transform: translateY(-5px);
    }
    .contact-card h4 {
      color: #2e7d32;
      margin-bottom: 20px;
      font-size: 19px;
      display: flex;
      align-items: center;
      gap: 12px;
    }
    .contact-card p {
      margin: 10px 0;
      color: #444;
      line-height: 1.6;
    }
    .kaspi-qr {
      margin-top: 40px;
    }
    .kaspi-qr p {
      margin-bottom: 20px;
      font-weight: 600;
      color: #2d2d2d;
    }
    .kaspi-qr img {
      max-width: 220px;
      border: 1px solid #e0e0e0;
      border-radius: 10px;
      box-shadow: 0 6px 20px rgba(0,0,0,0.1);
      transition: transform 0.3s ease;
    }
    .kaspi-qr img:hover {
      transform: scale(1.05);
    }
    .feedback-btn {
      margin-top: 40px;
      padding: 14px 28px;
      background-color: #2e7d32;
      color: white;
      border: none;
      border-radius: 10px;
      font-weight: 600;
      cursor: pointer;
      transition: background-color 0.3s ease, transform 0.2s ease;
    }
    .feedback-btn:hover {
      background-color: #1b5e20;
      transform: translateY(-3px);
    }
    footer {
      background-color: #2e7d32;
      color: white;
      padding: 40px 30px;
      text-align: center;
    }
    .footer-content {
      display: flex;
      flex-direction: column;
      gap: 25px;
      max-width: 1400px;
      margin: 0 auto;
    }
    .footer-links {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 25px;
    }
    .footer-links a {
      color: white;
      text-decoration: none;
      font-weight: 500;
      transition: opacity 0.3s ease, transform 0.2s ease;
    }
    .footer-links a:hover {
      opacity: 0.8;
      transform: translateY(-2px);
    }
    .social-links {
      display: flex;
      justify-content: center;
      gap: 25px;
    }
    .social-links a {
      color: white;
      font-size: 22px;
      transition: opacity 0.3s ease, transform 0.2s ease;
    }
    .social-links a:hover {
      opacity: 0.8;
      transform: translateY(-2px);
    }
    .copyright {
      margin-top: 25px;
      font-size: 15px;
      opacity: 0.9;
    }
    @media (max-width: 768px) {
      header {
        flex-direction: column;
        gap: 20px;
        padding: 20px 25px;
      }
      nav {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 12px;
      }
      nav a {
        margin: 0;
      }
      .hero h2 {
        font-size: 34px;
      }
      .hero p {
        font-size: 18px;
      }
      .search-filter {
        padding: 20px 25px;
      }
      .products {
        padding: 25px;
        grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      }
      .cart {
        width: 90%;
        right: 5%;
      }
      .modal-content {
        width: 95%;
        padding: 25px;
      }
      .product-buttons {
        flex-direction: column;
      }
      .contact {
        padding: 60px 25px;
      }
    }
  </style>
</head>
<body>
  <header>
    <div class="logo">
      <img src="https://cdn-icons-png.flaticon.com/512/616/616408.png" alt="PetShop Logo">
      <h1>PetShop</h1>
    </div>
    <nav aria-label="Основная навигация">
      <a href="#"><i class="fas fa-home"></i> Главная</a>
      <a href="#products"><i class="fas fa-paw"></i> Товары</a>
      <a href="#contact"><i class="fas fa-phone-alt"></i> Контакты</a>
      <a href="#" onclick="openFavoritesModal()" aria-label="Открыть избранное"><i class="fas fa-heart"></i> Избранное (<span id="favorites-count">0</span>)</a>
      <a href="#" onclick="toggleCart()" aria-label="Открыть корзину"><i class="fas fa-shopping-cart"></i> Корзина (<span id="cart-count">0</span>)</a>
    </nav>
  </header>

  <section class="hero" aria-label="Баннер">
    <div class="hero-content">
      <h2>Лучшие товары для ваших питомцев</h2>
      <p>Качественные корма, аксессуары и товары для кошек, собак и других домашних животных</p>
      <a href="#products" class="btn">Смотреть товары</a>
    </div>
  </section>

  <div class="search-filter" aria-label="Фильтры и поиск">
    <div class="search-box">
      <i class="fas fa-search"></i>
      <input type="text" id="search-input" placeholder="Поиск товаров..." aria-label="Поиск товаров">
    </div>
    <div class="filter">
      <select id="category-filter" aria-label="Фильтр по категории">
        <option value="all">Все категории</option>
        <option value="dogs">Для собак</option>
        <option value="cats">Для кошек</option>
        <option value="food">Корма</option>
        <option value="accessories">Аксессуары</option>
      </select>
      <select id="price-filter" aria-label="Фильтр по цене">
        <option value="all">Любая цена</option>
        <option value="0-3000">До 3 000 ₸</option>
        <option value="3000-6000">3 000 - 6 000 ₸</option>
        <option value="6000-10000">6 000 - 10 000 ₸</option>
        <option value="10000">От 10 000 ₸</option>
      </select>
    </div>
  </div>

  <section id="products" class="products" aria-label="Список товаров">
    <div class="loading-spinner" id="loading-spinner"></div>
  </section>

  <div class="cart" id="cart" aria-label="Корзина">
    <h3>Корзина <i class="fas fa-times" onclick="toggleCart()" aria-label="Закрыть корзину"></i></h3>
    <div id="cart-items-container">
      <div class="empty-cart">Корзина пуста</div>
    </div>
    <div class="cart-total">
      <span>Итого:</span>
      <span id="total-price">0 ₸</span>
    </div>
    <div class="cart-actions">
      <button class="cart-btn checkout-btn" onclick="openCheckoutModal()">Оформить заказ</button>
      <button class="cart-btn clear-btn" onclick="clearCart()">Очистить корзину</button>
    </div>
  </div>

  <div class="modal" id="checkout-modal" aria-label="Оформление заказа">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Оформление заказа</h3>
        <button class="close-modal" onclick="closeModal('checkout-modal')" aria-label="Закрыть">×</button>
      </div>
      <form id="checkout-form" onsubmit="submitOrder(event)">
        <div class="form-group">
          <label for="fullname">ФИО</label>
          <input type="text" id="fullname" required aria-required="true">
        </div>
        <div class="form-group">
          <label for="phone">Телефон</label>
          <input type="tel" id="phone" pattern="\+?[0-9]{10,12}" required aria-required="true">
        </div>
        <div class="form-group">
          <label for="address">Адрес доставки</label>
          <input type="text" id="address" required aria-required="true">
        </div>
        <div class="form-group">
          <label for="payment">Способ оплаты</label>
          <select id="payment" required aria-required="true">
            <option value="">Выберите способ оплаты</option>
            <option value="kaspi">Kaspi QR</option>
            <option value="kaspi-transfer">Kaspi перевод</option>
            <option value="cash">Наличные при получении</option>
            <option value="card">Картой курьеру</option>
          </select>
        </div>
        <div class="form-group">
          <label for="comments">Комментарий к заказу</label>
          <textarea id="comments" aria-label="Комментарий к заказу"></textarea>
        </div>
        <button type="submit" class="submit-btn">Подтвердить заказ</button>
      </form>
    </div>
  </div>

  <div class="modal" id="feedback-modal" aria-label="Обратная связь">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Обратная связь</h3>
        <button class="close-modal" onclick="closeModal('feedback-modal')" aria-label="Закрыть">×</button>
      </div>
      <form id="feedback-form" onsubmit="submitFeedback(event)">
        <div class="form-group">
          <label for="feedback-name">Ваше имя</label>
          <input type="text" id="feedback-name" required aria-required="true">
        </div>
        <div class="form-group">
          <label for="feedback-email">Email</label>
          <input type="email" id="feedback-email" required aria-required="true">
        </div>
        <div class="form-group">
          <label for="feedback-phone">Телефон</label>
          <input type="tel" id="feedback-phone" pattern="\+?[0-9]{10,12}" aria-label="Телефон для обратной связи">
        </div>
        <div class="form-group">
          <label for="feedback-message">Сообщение</label>
          <textarea id="feedback-message" required aria-required="true"></textarea>
        </div>
        <button type="submit" class="submit-btn">Отправить</button>
      </form>
    </div>
  </div>

  <div class="modal" id="quick-view-modal" aria-label="Быстрый просмотр товара">
    <div class="modal-content">
      <div class="modal-header">
        <h3 id="quick-view-title"></h3>
        <button class="close-modal" onclick="closeModal('quick-view-modal')" aria-label="Закрыть">×</button>
      </div>
      <div id="quick-view-content"></div>
    </div>
  </div>

  <div class="modal" id="favorites-modal" aria-label="Избранное">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Избранное</h3>
        <button class="close-modal" onclick="closeModal('favorites-modal')" aria-label="Закрыть">×</button>
      </div>
      <div id="favorites-items-container">
        <div class="empty-favorites">Избранное пусто</div>
      </div>
    </div>
  </div>

  <section class="contact" id="contact" aria-label="Контакты и доставка">
    <h2 class="section-title">Контакты и доставка</h2>
    <div class="contact-info">
      <div class="contact-card">
        <h4><i class="fas fa-map-marker-alt"></i> Адрес</h4>
        <p>г. Алматы, ул. Байтурсынова 123</p>
        <p>Вход со стороны парковки</p>
      </div>
      <div class="contact-card">
        <h4><i class="fas fa-clock"></i> Часы работы</h4>
        <p>Пн-Пт: 9:00 - 20:00</p>
        <p>Сб-Вс: 10:00 - 18:00</p>
      </div>
      <div class="contact-card">
        <h4><i class="fas fa-phone-alt"></i> Контакты</h4>
        <p>+7 (777) 123-45-67</p>
        <p>info@petshop.kz</p>
      </div>
      <div class="contact-card">
        <h4><i class="fas fa-truck"></i> Доставка</h4>
        <p>По Алматы — 1-2 дня</p>
        <p>По Казахстану — 3-5 дней</p>
      </div>
    </div>
    <div class="kaspi-qr">
      <p><strong>Оплата через Kaspi QR</strong></p>
      <img src="https://f.nodacdn.net/408120" alt="Kaspi QR">
    </div>
    <button class="feedback-btn" onclick="openFeedbackModal()">
      <i class="fas fa-envelope"></i> Написать нам
    </button>
  </section>

  <footer aria-label="Нижний колонтитул">
    <div class="footer-content">
      <div class="footer-links">
        <a href="#">Главная</a>
        <a href="#products">Товары</a>
        <a href="#contact">Контакты</a>
        <a href="#" onclick="openFeedbackModal()">Обратная связь</a>
        <a href="#">Доставка и оплата</a>
        <a href="#">О нас</a>
      </div>
      <div class="social-links">
        <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
        <a href="#" aria-label="Facebook"><i class="fab fa-facebook"></i></a>
        <a href="#" aria-label="WhatsApp"><i class="fab fa-whatsapp"></i></a>
        <a href="#" aria-label="Telegram"><i class="fab fa-telegram"></i></a>
      </div>
      <div class="copyright">
        © 2025 PetShop. Все права защищены.
      </div>
    </div>
  </footer>

  <script>
    // Данные товаров
    const productsData = [
      {
        id: 1,
        name: "Сухой корм для собак Pedigree, 10 кг",
        description: "Полноценный рацион для взрослых собак всех пород. Содержит натуральное мясо, злаки и витамины.",
        price: 12500,
        category: ["dogs", "food"],
        image: "https://storage.yandexcloud.net/yac-wh-sb-prod-s3-media-03005/themes/basic/static/home/product_dry.webp",
        badge: "Хит"
      },
      {
        id: 2,
        name: "Наполнитель Cats Way, 6 кг",
        description: "Гипоаллергенный наполнитель премиум класса. Отлично впитывает влагу и устраняет запахи.",
        price: 4800,
        category: ["cats", "accessories"],
        image: "https://catalog.detmir.st/media/1zD4fbrR7gUdmRscoRV3Bd3hvIn8vXbg4pw-Bn9S8ys=?preset=site_product_gallery_r450"
      },
      {
        id: 3,
        name: "Лежак для кошек",
        description: "Мягкий и уютный лежак с бортиками. Размер: 45×45 см. Материал: плюш, наполнитель — холлофайбер.",
        price: 4800,
        category: ["cats", "accessories"],
        image: "https://images.prom.ua/4044912648_w600_h600_4044912648.jpg",
        badge: "Новинка"
      },
      {
        id: 4,
        name: "Игрушка-мышка для кошек",
        description: "Набор из 3 игрушек с кошачьей мятой. Развивает охотничьи инстинкты, безопасные материалы.",
        price: 1200,
        category: ["cats", "accessories"],
        image: "https://zoosfera-nn.ru/images/detailed/678/b67140ff30ab11e0a9b6002618badd88_b4b7edd6d7e911eb80fa00155d331805.jpg"
      },
      {
        id: 5,
        name: "Поводок-рулетка 5 м",
        description: "Прочный поводок с автоматической намоткой. Выдерживает до 50 кг. Удобная рукоятка с мягкой накладкой.",
        price: 3000,
        category: ["dogs", "accessories"],
        image: "https://petplus.com.ua/image/cache/catalog/dogs/aks/Flexi/flexi_black_design_m_cord_5m_blue-min-500x500.jpg"
      },
      {
        id: 6,
        name: "Двойная миска для корма и воды",
        description: "Металлическая миска на подставке. Два отделения для корма и воды. Устойчивая конструкция.",
        price: 2500,
        category: ["dogs", "cats", "accessories"],
        image: "https://static.insales-cdn.com/r/b2LFFLnyp9Y/rs:fit:250:0:1/q:100/plain/images/products/1/576/322708032/Fresh_Nano-Metal_1000x1000.png@png"
      },
      {
        id: 7,
        name: "Лакомства для собак, 500 г",
        description: "Натуральные лакомства из говяжьей печени. Без консервантов и искусственных добавок.",
        price: 3200,
        category: ["dogs", "food"],
        image: "https://storage.yandexcloud.net/yac-wh-sb-prod-s3-media-03002/uploads/product/34/66a2643c597a3_Frame%205-min.jpg"
      },
      {
        id: 8,
        name: "Шампунь для собак и кошек",
        description: "Гипоаллергенный шампунь с экстрактом ромашки. Подходит для чувствительной кожи, не щиплет глаза.",
        price: 2800,
        category: ["dogs", "cats", "accessories"],
        image: "https://czv.kz/assets/images/products/24264/biovaks-shampun-dlya-kotyat-i-koshek-ot-bloh-kleshchey-vshey-i-vlasoedov-s-ekstraktom-romashki-i-maslom-evkalipta-250-ml.jpg",
        badge: "Акция"
      },
      {
        id: 9,
        name: "Когтеточка-столбик",
        description: "Компактная когтеточка с джутовой верёвкой. Сохраняет мебель и развлекает питомца. Высота: 60 см.",
        price: 5500,
        category: ["cats", "accessories"],
        image: "https://catalog.detmir.st/media/VNQmNmY9pfxKTL30WJI8278HYS1fjgngYZN93htq1ME="
      },
      {
        id: 10,
        name: "Переноска для кошек",
        description: "Пластиковая переноска с металлической дверцей. Размер: 45×30×30 см. Вентиляционные отверстия.",
        price: 6500,
        category: ["cats", "accessories"],
        image: "https://101dalmatin.ua/image/cache/catalog/photo/13621/76590-jpg-1-500x500.jpg"
      },
      {
        id: 11,
        name: "Ошейник для собак",
        description: "Нейлоновый ошейник с регулировкой длины. Ширина: 2.5 см. Прочная металлическая пряжка.",
        price: 1800,
        category: ["dogs", "accessories"],
        image: "https://zoomart.kz/wp-content/uploads/2023/02/115.1.jpeg"
      },
      {
        id: 12,
        name: "Сухой корм для кошек Whiskas, 5 кг",
        description: "Сбалансированный рацион для взрослых кошек. Содержит мясо, витамины и минералы.",
        price: 8500,
        category: ["cats", "food"],
        image: "https://zoopt.kz/upload/iblock/ee1/916fdfbf_04a0_11e6_80bb_002590b55a9c_4574.webp",
        badge: "Хит"
      }
    ];

    // Корзина, избранное и недавно просмотренные товары
    let cart = JSON.parse(localStorage.getItem('petShopCart')) || [];
    let favorites = JSON.parse(localStorage.getItem('petShopFavorites')) || [];
    let recentlyViewed = JSON.parse(localStorage.getItem('petShopRecentlyViewed')) || [];

    // Форматтер валюты
    const formatter = new Intl.NumberFormat('ru-KZ', {
      style: 'currency',
      currency: 'KZT',
      minimumFractionDigits: 0
    });

    // Дебаунс для рендера
    function debounce(func, wait) {
      let timeout;
      return function executedFunction(...args) {
        const later = () => {
          clearTimeout(timeout);
          func(...args);
        };
        clearTimeout(timeout);
        timeout = setTimeout(later, wait);
      };
    }

    // Инициализация страницы
    document.addEventListener('DOMContentLoaded', function() {
      console.log('Page loaded, productsData length:', productsData.length);
      localStorage.removeItem('petShopFilters');
      renderProducts(productsData);
      updateCart();
      updateFavorites();
      const searchInput = document.getElementById('search-input');
      searchInput.addEventListener('input', debounce(filterProducts, 300));
      document.getElementById('category-filter').addEventListener('change', debounce(filterProducts, 300));
      document.getElementById('price-filter').addEventListener('change', debounce(filterProducts, 300));
    });

    // Рендер товаров с отложенной отрисовкой
    const debouncedRenderProducts = debounce(renderProducts, 100);
    function renderProducts(products) {
      const productsContainer = document.getElementById('products');
      console.log('Rendering products, count:', products.length);
      productsContainer.innerHTML = '';
      
      if (!products || products.length === 0) {
        productsContainer.innerHTML = '<p style="grid-column: 1 / -1; text-align: center; padding: 40px;">Товары не найдены</p>';
        console.warn('No products to render');
        return;
      }
      
      products.forEach(product => {
        const isFavorited = favorites.includes(product.id);
        const productElement = document.createElement('div');
        productElement.className = 'product';
        productElement.setAttribute('role', 'article');
        productElement.innerHTML = `
          ${product.badge ? `<span class="product-badge">${product.badge}</span>` : ''}
          <img src="${product.image}" alt="${product.name}" class="product-img" loading="lazy">
          <div class="product-info">
            <h3>${product.name}</h3>
            <p>${product.description}</p>
            <span class="price">${formatter.format(product.price)}</span>
            <div class="product-buttons">
              <button class="add-to-cart-btn" onclick="addToCart(${product.id})" aria-label="Добавить ${product.name} в корзину">В корзину</button>
              <button class="quick-view-btn" onclick="openQuickView(${product.id})" aria-label="Быстрый просмотр ${product.name}">Быстрый просмотр</button>
              <button class="favorite-btn ${isFavorited ? 'favorited' : ''}" onclick="toggleFavorite(${product.id})" aria-label="${isFavorited ? 'Удалить' : 'Добавить'} ${product.name} в избранное">
                <i class="fas fa-heart"></i>
              </button>
            </div>
          </div>
        `;
        productsContainer.appendChild(productElement);
      });
    }

    // Фильтрация товаров
    function filterProducts() {
      const searchTerm = document.getElementById('search-input').value.toLowerCase();
      const category = document.getElementById('category-filter').value;
      const priceRange = document.getElementById('price-filter').value;
      
      console.log('Filtering with:', { searchTerm, category, priceRange });
      
      let filteredProducts = productsData.filter(product => {
        const matchesSearch = product.name.toLowerCase().includes(searchTerm) || 
                             product.description.toLowerCase().includes(searchTerm);
        const matchesCategory = category === 'all' || product.category.includes(category);
        let matchesPrice = true;
        if (priceRange !== 'all') {
          const [min, max] = priceRange.split('-').map(Number);
          if (max) {
            matchesPrice = product.price >= min && product.price <= max;
          } else {
            matchesPrice = product.price >= min;
          }
        }
        return matchesSearch && matchesCategory && matchesPrice;
      });
      
      localStorage.setItem('petShopFilters', JSON.stringify({
        search: searchTerm,
        category: category,
        price: priceRange
      }));
      
      debouncedRenderProducts(filteredProducts);
    }

    // Работа с корзиной
    function addToCart(productId) {
      const product = productsData.find(p => p.id === productId);
      if (!product) return;
      
      const existingItem = cart.find(item => item.id === productId);
      if (existingItem) {
        existingItem.quantity++;
      } else {
        cart.push({
          id: product.id,
          name: product.name,
          price: product.price,
          quantity: 1
        });
      }
      
      updateCart();
      showCartNotification(`${product.name} добавлен в корзину`);
    }

    function removeFromCart(productId) {
      cart = cart.filter(item => item.id !== productId);
      updateCart();
      showCartNotification('Товар удалён из корзины');
    }

    function updateCartQuantity(productId, change) {
      const item = cart.find(item => item.id === productId);
      if (!item) return;
      
      item.quantity += change;
      if (item.quantity <= 0) {
        removeFromCart(productId);
      } else {
        updateCart();
      }
    }

    function updateCart() {
      updateCartCount();
      updateCartDisplay();
      saveCartToLocalStorage();
    }

    function updateCartCount() {
      const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
      document.getElementById('cart-count').textContent = totalItems;
    }

    function updateCartDisplay() {
      const cartItemsContainer = document.getElementById('cart-items-container');
      
      if (cart.length === 0) {
        cartItemsContainer.innerHTML = '<div class="empty-cart">Корзина пуста</div>';
        document.getElementById('total-price').textContent = formatter.format(0);
        return;
      }
      
      let itemsHTML = '';
      let totalPrice = 0;
      
      cart.forEach(item => {
        const itemTotal = item.price * item.quantity;
        totalPrice += itemTotal;
        
        itemsHTML += `
          <div class="cart-item">
            <div class="cart-item-info">
              <div class="cart-item-name">${item.name}</div>
              <div class="cart-item-price">${formatter.format(item.price)} × ${item.quantity}</div>
            </div>
            <div class="cart-item-quantity">
              <button onclick="updateCartQuantity(${item.id}, -1)" aria-label="Уменьшить количество">-</button>
              <span>${item.quantity}</span>
              <button onclick="updateCartQuantity(${item.id}, 1)" aria-label="Увеличить количество">+</button>
            </div>
            <button class="cart-item-remove" onclick="removeFromCart(${item.id})" aria-label="Удалить ${item.name} из корзины">
              <i class="fas fa-trash"></i>
            </button>
          </div>
        `;
      });
      
      cartItemsContainer.innerHTML = itemsHTML;
      document.getElementById('total-price').textContent = formatter.format(totalPrice);
    }

    function clearCart() {
      cart = [];
      updateCart();
      showCartNotification('Корзина очищена');
    }

    function saveCartToLocalStorage() {
      localStorage.setItem('petShopCart', JSON.stringify(cart));
    }

    // Работа с избранным
    function toggleFavorite(productId) {
      const product = productsData.find(p => p.id === productId);
      if (!product) return;
      
      if (favorites.includes(productId)) {
        favorites = favorites.filter(id => id !== productId);
        showCartNotification(`${product.name} удалён из избранного`);
      } else {
        favorites.push(productId);
        showCartNotification(`${product.name} добавлен в избранное`);
      }
      
      updateFavorites();
      debouncedRenderProducts(productsData.filter(p => document.getElementById('search-input').value.toLowerCase().includes(p.name.toLowerCase()) || 
                                                       document.getElementById('category-filter').value === 'all' || 
                                                       p.category.includes(document.getElementById('category-filter').value)));
    }

    function updateFavorites() {
      updateFavoritesCount();
      updateFavoritesDisplay();
      saveFavoritesToLocalStorage();
    }

    function updateFavoritesCount() {
      document.getElementById('favorites-count').textContent = favorites.length;
    }

    function updateFavoritesDisplay() {
      const favoritesContainer = document.getElementById('favorites-items-container');
      
      if (favorites.length === 0) {
        favoritesContainer.innerHTML = '<div class="empty-favorites">Избранное пусто</div>';
        return;
      }
      
      let itemsHTML = '';
      
      favorites.forEach(productId => {
        const product = productsData.find(p => p.id === productId);
        if (!product) return;
        
        itemsHTML += `
          <div class="favorites-item">
            <div class="favorites-item-info">
              <div class="favorites-item-name">${product.name}</div>
              <div class="favorites-item-price">${formatter.format(product.price)}</div>
            </div>
            <div class="favorites-item-actions">
              <button class="add-to-cart" onclick="addToCart(${product.id})" aria-label="Добавить ${product.name} в корзину">В корзину</button>
              <button class="remove-favorite" onclick="toggleFavorite(${product.id})" aria-label="Удалить ${product.name} из избранного">
                <i class="fas fa-trash"></i>
              </button>
            </div>
          </div>
        `;
      });
      
      favoritesContainer.innerHTML = itemsHTML;
    }

    function saveFavoritesToLocalStorage() {
      localStorage.setItem('petShopFavorites', JSON.stringify(favorites));
    }

    function openFavoritesModal() {
      updateFavoritesDisplay();
      document.getElementById('favorites-modal').style.display = 'flex';
    }

    // Уведомления
    function showCartNotification(message) {
      const existingNotification = document.querySelector('.notification');
      if (existingNotification) existingNotification.remove();
      
      const notification = document.createElement('div');
      notification.className = 'notification';
      notification.innerHTML = `
        ${message}
        <button class="close-notification" onclick="this.parentElement.remove()" aria-label="Закрыть уведомление">
          <i class="fas fa-times"></i>
        </button>
      `;
      document.body.appendChild(notification);
      
      setTimeout(() => notification.remove(), 3000);
    }

    // Управление корзиной
    function toggleCart() {
      const cart = document.getElementById('cart');
      cart.style.display = cart.style.display === 'block' ? 'none' : 'block';
    }

    // Управление модальными окнами
    function openCheckoutModal() {
      if (cart.length === 0) {
        showCartNotification('Корзина пуста');
        return;
      }
      document.getElementById('checkout-modal').style.display = 'flex';
    }

    function openFeedbackModal() {
      document.getElementById('feedback-modal').style.display = 'flex';
    }

    function openQuickView(productId) {
      const product = productsData.find(p => p.id === productId);
      if (!product) return;
      
      if (!recentlyViewed.includes(productId)) {
        recentlyViewed.unshift(productId);
        recentlyViewed = recentlyViewed.slice(0, 10);
        localStorage.setItem('petShopRecentlyViewed', JSON.stringify(recentlyViewed));
      }
      
      const isFavorited = favorites.includes(productId);
      const modal = document.getElementById('quick-view-modal');
      document.getElementById('quick-view-title').textContent = product.name;
      document.getElementById('quick-view-content').innerHTML = `
        <img src="${product.image}" alt="${product.name}" class="quick-view-img">
        <div class="quick-view-info">
          <p>${product.description}</p>
          <p class="price">${formatter.format(product.price)}</p>
          <div class="quick-view-actions">
            <button onclick="addToCart(${product.id})" aria-label="Добавить ${product.name} в корзину">В корзину</button>
            <button class="favorite-btn ${isFavorited ? 'favorited' : ''}" onclick="toggleFavorite(${product.id})" aria-label="${isFavorited ? 'Удалить' : 'Добавить'} ${product.name} в избранное">
              <i class="fas fa-heart"></i>
            </button>
          </div>
        </div>
      `;
      modal.style.display = 'flex';
    }

    function closeModal(modalId) {
      document.getElementById(modalId).style.display = 'none';
    }

    // Отправка заказа на почту
    async function submitOrder(event) {
      event.preventDefault();
      const form = document.getElementById('checkout-form');
      if (!form.checkValidity()) {
        form.reportValidity();
        return;
      }
      
      const formData = new FormData(form);
      const orderDetails = {
        fullname: formData.get('fullname'),
        phone: formData.get('phone'),
        address: formData.get('address'),
        payment: formData.get('payment'),
        comments: formData.get('comments'),
        cart: cart,
        total: cart.reduce((sum, item) => sum + item.price * item.quantity, 0)
      };
      
      try {
        const response = await fetch('https://api.emailjs.com/api/v1.0/email/send', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify({
            service_id: 'YOUR_EMAILJS_SERVICE_ID',
            template_id: 'YOUR_EMAILJS_TEMPLATE_ID',
            user_id: 'YOUR_EMAILJS_USER_ID',
            template_params: {
              to_email: 'arar8693@gmail.com',
              from_name: orderDetails.fullname,
              message: `
                Заказ от ${orderDetails.fullname}
                Телефон: ${orderDetails.phone}
                Адрес: ${orderDetails.address}
                Способ оплаты: ${orderDetails.payment}
                Комментарий: ${orderDetails.comments || 'Нет'}
                Товары:
                ${orderDetails.cart.map(item => `${item.name} - ${item.quantity} шт. (${formatter.format(item.price)})`).join('\n')}
                Итого: ${formatter.format(orderDetails.total)}
              `
            }
          })
        });
        
        if (response.ok) {
          showCartNotification('Заказ успешно оформлен!');
          clearCart();
          closeModal('checkout-modal');
          form.reset();
        } else {
          showCartNotification('Ошибка при отправке заказа');
        }
      } catch (error) {
        console.error('Error sending order:', error);
        showCartNotification('Ошибка при отправке заказа');
      }
    }

    // Отправка обратной связи на почту
    async function submitFeedback(event) {
      event.preventDefault();
      const form = document.getElementById('feedback-form');
      if (!form.checkValidity()) {
        form.reportValidity();
        return;
      }
      
      const formData = new FormData(form);
      const feedbackDetails = {
        name: formData.get('feedback-name'),
        email: formData.get('feedback-email'),
        phone: formData.get('feedback-phone'),
        message: formData.get('feedback-message')
      };
      
      try {
        const response = await fetch('https://api.emailjs.com/api/v1.0/email/send', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify({
            service_id: 'YOUR_EMAILJS_SERVICE_ID',
            template_id: 'YOUR_EMAILJS_FEEDBACK_TEMPLATE_ID',
            user_id: 'YOUR_EMAILJS_USER_ID',
            template_params: {
              to_email: 'arar8693@gmail.com',
              from_name: feedbackDetails.name,
              from_email: feedbackDetails.email,
              message: `
                Обратная связь от ${feedbackDetails.name}
                Email: ${feedbackDetails.email}
                Телефон: ${feedbackDetails.phone || 'Не указан'}
                Сообщение: ${feedbackDetails.message}
              `
            }
          })
        });
        
        if (response.ok) {
          showCartNotification('Сообщение отправлено!');
          closeModal('feedback-modal');
          form.reset();
        } else {
          showCartNotification('Ошибка при отправке сообщения');
        }
      } catch (error) {
        console.error('Error sending feedback:', error);
        showCartNotification('Ошибка при отправке сообщения');
      }
    }

    // Обработка клавиш
    document.addEventListener('keydown', function(event) {
      if (event.key === 'Escape') {
        const modals = document.querySelectorAll('.modal');
        modals.forEach(modal => modal.style.display = 'none');
        document.getElementById('cart').style.display = 'none';
      }
    });
  </script>
</body>
</html>
